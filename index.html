<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุชุญููู ุจูุงูุงุช ูุฑุดุฉ ุงูุนูู - ุงูุชูุฑูุฑ ุงูุดุงูู</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    


    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind Config -->
    <script>
        function setupTailwind() {
            if (typeof tailwind !== 'undefined') {
                tailwind.config = {
                    darkMode: 'class',
                    theme: {
                        extend: {
                            fontFamily: {
                                sans: ['Tajawal', 'sans-serif'],
                            },
                            colors: {
                                brand: {
                                    50: '#f0fdfa',
                                    100: '#ccfbf1',
                                    500: '#14b8a6',
                                    600: '#0d9488',
                                    800: '#115e59',
                                    900: '#134e4a',
                                }
                            }
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.tailwindcss.com" onload="setupTailwind()"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            padding: 1.5rem;
            transition: all 0.3s ease;
            border: 1px solid #f1f5f9;
            page-break-inside: avoid;
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .insight-badge {
            background-color: #f0fdfa;
            color: #115e59;
            padding: 2px 8px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 700;
            border: 1px solid #ccfbf1;
        }
        /* Word Cloud Styling */
        .word-cloud span {
            display: inline-block;
            margin: 4px 10px;
            transition: all 0.3s;
            cursor: default;
            line-height: 1.6;
        }
        .word-cloud span:hover {
            color: #0d9488;
            transform: scale(1.15);
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /* Dark Mode Transitions */
        body, .card, nav, .text-slate-800, .text-slate-500 {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        .dark body {
            background-color: #0f172a;
            color: #f1f5f9;
        }
        .dark .card {
            background-color: #1e293b;
            border-color: #334155;
            color: #f1f5f9;
        }
        .dark .text-slate-800 { color: #f1f5f9; }
        .dark .text-slate-500 { color: #94a3b8; }
        .dark .text-slate-600 { color: #cbd5e1; }
        .dark .text-slate-700 { color: #e2e8f0; }
        .dark .bg-white { background-color: #1e293b; }
        .dark .border-slate-200 { border-color: #334155; }
        
        /* Magic Highlight Effect */
        @keyframes magicPulse {
            0% { box-shadow: 0 0 0 0 rgba(20, 184, 166, 0.7); transform: scale(1); }
            50% { box-shadow: 0 0 0 20px rgba(20, 184, 166, 0); transform: scale(1.02); }
            100% { box-shadow: 0 0 0 0 rgba(20, 184, 166, 0); transform: scale(1); }
        }
        .magic-highlight {
            animation: magicPulse 1.5s ease-out;
            border: 2px solid #14b8a6 !important;
            z-index: 50;
        }
    </style>
</head>
<body class="text-slate-800 dark:bg-slate-900 dark:text-slate-100">

    <!-- Navigation -->
    <nav class="bg-brand-900 text-white shadow-xl sticky top-0 z-50 backdrop-blur-md bg-opacity-95">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-4">
                    <div class="bg-white/10 p-2 rounded-lg">
                        <i class="fa-solid fa-chart-pie text-2xl text-brand-100"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold tracking-wide">ุชูุฑูุฑ ูุฑุดุฉ ุงูุนูู ุงูุดุงูู</h1>
                        <p class="text-xs text-brand-100 opacity-90">ุชุญููู 278 ูุดุงุฑู | AI in Business</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <button onclick="toggleTheme()" class="p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-all focus:outline-none" title="ุชุจุฏูู ุงููุถุน ุงููููู">
                        <i id="themeIcon" class="fa-solid fa-moon text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard -->
    <div id="dashboard-content" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
        
        <!-- 1. High-Level KPIs -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="card border-b-4 border-brand-500 relative overflow-hidden">
                <div class="absolute top-0 left-0 p-4 opacity-10"><i class="fa-solid fa-users text-6xl"></i></div>
                <div class="text-slate-500 text-sm font-medium mb-1">ุฅุฌูุงูู ุงููุดุงุฑููู</div>
                <div class="text-4xl font-extrabold text-brand-900">278</div>
                <div class="text-xs font-bold text-emerald-600 mt-3 bg-emerald-50 inline-block px-2 py-1 rounded">
                    <i class="fa-solid fa-check"></i> ุจูุงูุงุช ููุชููุฉ
                </div>
            </div>
            <div class="card border-b-4 border-blue-500 relative overflow-hidden">
                <div class="absolute top-0 left-0 p-4 opacity-10"><i class="fa-solid fa-cake-candles text-6xl"></i></div>
                <div class="text-slate-500 text-sm font-medium mb-1">ูุชูุณุท ุงูุนูุฑ</div>
                <div class="text-4xl font-extrabold text-blue-900">29.5</div>
                <div class="text-xs text-slate-400 mt-3">ุงููุณูุท: 27 | ุงููููุงู: 25</div>
            </div>
            <div class="card border-b-4 border-purple-500 relative overflow-hidden">
                <div class="absolute top-0 left-0 p-4 opacity-10"><i class="fa-solid fa-earth-asia text-6xl"></i></div>
                <div class="text-slate-500 text-sm font-medium mb-1">ุงูุฃุนูู ุชูุซููุงู</div>
                <div class="text-3xl font-extrabold text-purple-900 truncate">ุงูููู ๐พ๐ช</div>
                <div class="text-xs font-bold text-purple-600 mt-3">39.26% (106 ูุดุงุฑู)</div>
            </div>
            <div class="card border-b-4 border-orange-500 relative overflow-hidden">
                <div class="absolute top-0 left-0 p-4 opacity-10"><i class="fa-solid fa-graduation-cap text-6xl"></i></div>
                <div class="text-slate-500 text-sm font-medium mb-1">ุงููุณุชูู ุงูุณุงุฆุฏ</div>
                <div class="text-3xl font-extrabold text-orange-900">ูุจุชุฏุฆ</div>
                <div class="text-xs font-bold text-orange-600 mt-3">42.96% ูู ุงูุญุถูุฑ</div>
            </div>
        </div>

        <!-- 2. Demographics (Detailed) -->
        <div>
            <div class="flex items-center gap-2 mb-4 border-b pb-2 border-slate-200">
                <i class="fa-solid fa-id-card text-brand-600"></i>
                <h2 class="text-xl font-bold text-slate-800">ุงูุจูุงูุงุช ุงูุฏูููุบุฑุงููุฉ (Demographics)</h2>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Age Distribution Simulation -->
                <div class="card lg:col-span-1">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="font-bold text-slate-700">ุชูุฒูุน ุงููุฆุงุช ุงูุนูุฑูุฉ</h3>
                        <span class="insight-badge">75% ุดุจุงุจ (&le;33)</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                </div>
                <!-- Gender & Student Split (Combined Visual) -->
                <div class="card lg:col-span-1">
                    <h3 class="font-bold text-slate-700 mb-4 text-center">ุงูุฌูุณ ูุงูุญุงูุฉ ุงูุฏุฑุงุณูุฉ</h3>
                    <div class="grid grid-cols-2 gap-2 h-full pb-8">
                        <div class="relative h-48 w-full">
                            <canvas id="genderChart"></canvas>
                            <p class="text-center text-xs mt-2 font-bold">86% ุฐููุฑ</p>
                        </div>
                        <div class="relative h-48 w-full">
                            <canvas id="studentChart"></canvas>
                            <p class="text-center text-xs mt-2 font-bold">43% ุทูุงุจ</p>
                        </div>
                    </div>
                </div>
                <!-- Countries -->
                <div class="card lg:col-span-1">
                    <h3 class="font-bold text-slate-700 mb-4">ุงูุชูุฒูุน ุงูุฌุบุฑุงูู (ุฃุนูู 5)</h3>
                    <div class="chart-container">
                        <canvas id="countryChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. AI Knowledge Analysis (Deep Dive) -->
        <div>
            <div class="flex items-center gap-2 mb-4 border-b pb-2 border-slate-200">
                <i class="fa-solid fa-brain text-brand-600"></i>
                <h2 class="text-xl font-bold text-slate-800">ุชุญููู ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ (AI Knowledge)</h2>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Overall Knowledge -->
                <div class="card lg:col-span-4">
                    <h3 class="font-bold text-slate-700 mb-2">ูุณุชููุงุช ุงูุฎุจุฑุฉ ุงูุนุงูุฉ</h3>
                    <p class="text-xs text-slate-400 mb-4">20% ุจุฏูู ุฎุจุฑุฉ ุณุงุจูุฉ (ูุฑุตุฉ ููุชุนููู ุงูุชุฃุณูุณู)</p>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="knowledgeChart"></canvas>
                    </div>
                </div>
                <!-- Cross Analysis: Gender vs Knowledge -->
                <div class="card lg:col-span-4">
                    <h3 class="font-bold text-slate-700 mb-2">ูุณุชูู ุงูุฎุจุฑุฉ ุญุณุจ ุงูุฌูุณ</h3>
                    <p class="text-xs text-slate-400 mb-4">ูุงุญุธ: 100% ูู ุงูุฎุจุฑุงุก ุฐููุฑ</p>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="knowledgeGenderChart"></canvas>
                    </div>
                </div>
                <!-- Age vs Knowledge -->
                <div class="card lg:col-span-4">
                    <h3 class="font-bold text-slate-700 mb-2">ูุชูุณุท ุงูุนูุฑ ุญุณุจ ุงูุฎุจุฑุฉ</h3>
                    <p class="text-xs text-slate-400 mb-4">ุงุฑุชุจุงุท ุทุฑุฏู: ูููุง ุฒุงุฏุช ุงูุฎุจุฑุฉ ุฒุงุฏ ุงูุนูุฑ</p>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="ageKnowledgeChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. Motivation & Preferences -->
        <div>
            <div class="flex items-center gap-2 mb-4 border-b pb-2 border-slate-200">
                <i class="fa-solid fa-heart text-brand-600"></i>
                <h2 class="text-xl font-bold text-slate-800">ุงูุฏูุงูุน ูุงูุชูุถููุงุช (Motivations & Preferences)</h2>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Reasons for Joining -->
                <div class="card lg:col-span-1">
                    <h3 class="font-bold text-slate-700 mb-4">ุฃูู ุฃุณุจุงุจ ุงูุงูุถูุงู</h3>
                    <div class="chart-container">
                        <canvas id="reasonsChart"></canvas>
                    </div>
                </div>
                <!-- Timing Comparison -->
                <div class="card lg:col-span-1">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="font-bold text-slate-700">ุชูุถููุงุช ุงูุชูููุช (ุตุจุงุญู vs ูุณุงุฆู)</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="timingChart"></canvas>
                    </div>
                    <div class="text-xs text-center mt-2 text-slate-500">
                        <span class="inline-block w-3 h-3 bg-yellow-400 rounded-full mr-1"></span> ุตุจุงุญ ุงูุณุจุช (ุงูุฃุนูู)
                        <span class="inline-block w-3 h-3 bg-slate-800 rounded-full mr-1 ml-2"></span> ูุณุงุก ุงูุฌูุนุฉ
                    </div>
                </div>
                <!-- Engagement Metrics -->
                <div class="card lg:col-span-1 flex flex-col justify-center">
                    <div class="text-center mb-8">
                        <h3 class="text-lg font-bold text-slate-700">ุงูุฑุบุจุฉ ูู ููุงุฏ ุฅุถุงููุฉ</h3>
                        <div class="text-5xl font-extrabold text-brand-600 mt-2">97.4%</div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2 max-w-[200px] mx-auto">
                            <div class="bg-brand-600 h-2.5 rounded-full" style="width: 97.4%"></div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3 class="text-lg font-bold text-slate-700">ุงูุญูุงุณ ููุฑุด ูุณุชูุจููุฉ</h3>
                        <div class="text-5xl font-extrabold text-pink-600 mt-2">99.6%</div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2 max-w-[200px] mx-auto">
                            <div class="bg-pink-600 h-2.5 rounded-full" style="width: 99.6%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. Word Cloud & Qualitative -->
        <div class="card bg-gradient-to-br from-white to-brand-50 border-brand-100">
            <h3 class="font-bold text-slate-800 mb-4 text-center text-lg">ุณุญุงุจุฉ ุงูุชูุงูุงุช ุงููุดุงุฑููู</h3>
            <div id="wordCloud" class="word-cloud text-center py-4 min-h-[150px] flex flex-wrap justify-center items-center content-center">
                <!-- JS Populated -->
            </div>
        </div>

        <!-- 6. Detailed Insights Report (Textual) -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mt-8">
            <h2 class="text-xl font-bold text-brand-900 mb-6 flex items-center gap-2">
                <i class="fa-solid fa-list-check"></i> ููุฎุต ุงูุฑุคู ุงูุชุญููููุฉ (Insights Report)
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-sm leading-relaxed">
                <!-- Column 1 -->
                <div>
                    <h4 class="font-bold text-slate-800 mb-2 border-b border-brand-100 pb-1">๐ ุงูุชุฑููุจุฉ ุงูุณูุงููุฉ</h4>
                    <ul class="list-disc list-inside space-y-1 text-slate-600 marker:text-brand-500">
                        <li>ูุงุนุฏุฉ ุดุจุงุจูุฉ ุจุงูุชูุงุฒ: <strong>75%</strong> ูู ุงููุดุงุฑููู ุชุญุช ุณู 33 ุนุงูุงู.</li>
                        <li>ููููุฉ ุฐููุฑูุฉ ุจูุณุจุฉ <strong>85.5%</strong>ุ ูุน ูุฌูุฏ ูุฑุตุฉ ูุฒูุงุฏุฉ ุชูุซูู ุงูุฅูุงุซ.</li>
                        <li>ุงูุทูุงุจ ูุดูููู <strong>43%</strong>ุ ููุง ูุจุฑุฑ ุงูุทูุจ ุงูุนุงูู ุนูู ุงููุญุชูู ุงูุชุฃุณูุณู.</li>
                        <li>ุงูููู ุชุชุตุฏุฑ ุงููุดุงุฑูุฉ (39%) ุชูููุง ูุตุฑ (20%)ุ ููุง ูุดูุฑ ูุณูู ููู ูู ูุฐู ุงูุฏูู.</li>
                    </ul>

                    <h4 class="font-bold text-slate-800 mb-2 border-b border-brand-100 pb-1 mt-4">๐ ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ</h4>
                    <ul class="list-disc list-inside space-y-1 text-slate-600 marker:text-brand-500">
                        <li><strong>70%</strong> ูู ุงูุญุถูุฑ ูุจุชุฏุฆูู ุฃู ุจุฏูู ุฎุจุฑุฉ ุณุงุจูุฉ.</li>
                        <li>ุงููุฌูุฉ ุงูุฌูุฏุฑูุฉ ุชุชุณุน ูุน ุงูุฎุจุฑุฉ: <strong>100%</strong> ูู ูุฆุฉ "ุฎุจูุฑ" ูู ุฐููุฑ.</li>
                        <li>ุงูุฎุจุฑุงุก (1.5% ููุท) ูู ุงูุฃูุจุฑ ุณูุงู (ูุชูุณุท 40 ุณูุฉ) ูุบูุฑ ุทูุงุจ ูููุงู.</li>
                        <li>ุงูุทูุงุจ ูู ุงููุฆุฉ ุงูุฃูุจุฑ ุถูู "ุจุฏูู ุฎุจุฑุฉ ุณุงุจูุฉ" (53% ูููู ุทูุงุจ).</li>
                    </ul>
                </div>

                <!-- Column 2 -->
                <div>
                    <h4 class="font-bold text-slate-800 mb-2 border-b border-brand-100 pb-1">๐ ุงูุฏูุงูุน ูุงูุงูุชูุงูุงุช</h4>
                    <ul class="list-disc list-inside space-y-1 text-slate-600 marker:text-brand-500">
                        <li>ุงููุจุชุฏุฆูู ูุจุญุซูู ุนู "ุงูุชุนูู"ุ ุจูููุง ุงููุชูุฏููู ูุฑูุฒูู ุนูู "ุฑูุงุฏุฉ ุงูุฃุนูุงู".</li>
                        <li>ุงูุฎุจุฑุงุก ููุชููู ุจุดูู ุฎุงุต ุจู "ุงูุชุญูู ุฅูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุชูููุฏู".</li>
                        <li><strong>99.6%</strong> ูุนุฏู ุญูุงุณ ุงุณุชุซูุงุฆู ููุฑุด ุงููุณุชูุจู.</li>
                        <li>ุทูุจ ูุงุณุญ ููููุงุฏ ุงูุฅุถุงููุฉ (97%) ูุฏู ุนูู ุฑุบุจุฉ ูู ุงูุชุนูู ุงููุณุชูุฑ.</li>
                    </ul>

                    <h4 class="font-bold text-slate-800 mb-2 border-b border-brand-100 pb-1 mt-4">๐ ุงูุชูุถููุงุช ุงูููุฌุณุชูุฉ</h4>
                    <ul class="list-disc list-inside space-y-1 text-slate-600 marker:text-brand-500">
                        <li><strong>ุงูุณุจุช ุตุจุงุญุงู</strong> ูู ุงูููุนุฏ ุงูุฐูุจู (35% ุชูุถูู).</li>
                        <li><strong>ุงูุฌูุนุฉ ูุณุงุกู</strong> ูู ุงูุฎูุงุฑ ุงููุณุงุฆู ุงูููุถู (26%).</li>
                        <li>ุงููุฆุงุช ุงูุฃุตุบุฑ ุณูุงู ุชูุถู ุนุทูุงุช ููุงูุฉ ุงูุฃุณุจูุน.</li>
                        <li>ุงููุชูุฏููู ูุงูุฎุจุฑุงุก ูุธูุฑูู ูุฑููุฉ ุฃูุจุฑ ูู ุงูุฃููุงุช.</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer class="text-center text-slate-400 text-xs py-6">
            ุชู ุฅูุดุงุก ุงูุชูุฑูุฑ ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงููุนููุฉ ูู 270 ูุดุงุฑู | aiNarabic Workshop
        </footer>

    </div>

    <!-- Floating Magic Button -->
    <button onclick="triggerMagicInsight()" class="fixed bottom-8 right-8 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-transform z-50 group">
        <i class="fa-solid fa-wand-magic-sparkles text-2xl group-hover:rotate-12 transition-transform"></i>
        <span class="absolute right-full mr-3 top-1/2 -translate-y-1/2 bg-slate-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none">
            ุงูุชุดู ูุนูููุฉ ุณุญุฑูุฉ
        </span>
    </button>

    <!-- LOGIC SCRIPT -->
    <script>
        window.addEventListener('load', function() {
            if (typeof Chart === 'undefined') return;

            Chart.defaults.font.family = 'Tajawal';
            Chart.defaults.color = '#64748b';
            Chart.defaults.borderColor = '#f1f5f9';

            // 1. Age Group Chart (Simulation based on: 25% <=23, 75% <=33, Range 16-59)
            // Creating 5 buckets
            new Chart(document.getElementById('ageChart'), {
                type: 'bar',
                data: {
                    labels: ['16-20', '21-25', '26-30', '31-40', '40+'],
                    datasets: [{
                        label: 'ุนุฏุฏ ุงููุดุงุฑููู',
                        // Estimated counts to match the stats provided
                        data: [30, 95, 80, 50, 15], 
                        backgroundColor: '#14b8a6',
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true, grid: { display: false } } }
                }
            });

            // 2. Gender Chart
            new Chart(document.getElementById('genderChart'), {
                type: 'doughnut',
                data: {
                    labels: ['ุฐููุฑ', 'ุฅูุงุซ'],
                    datasets: [{
                        data: [85.56, 14.44],
                        backgroundColor: ['#3b82f6', '#ec4899'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: { legend: { display: false } }
                }
            });

            // 3. Student Chart
            new Chart(document.getElementById('studentChart'), {
                type: 'doughnut',
                data: {
                    labels: ['ุบูุฑ ุทุงูุจ', 'ุทุงูุจ'],
                    datasets: [{
                        data: [56.67, 43.33],
                        backgroundColor: ['#64748b', '#f59e0b'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: { legend: { display: false } }
                }
            });

            // 4. Country Chart
            new Chart(document.getElementById('countryChart'), {
                type: 'bar',
                data: {
                    labels: ['ุงูููู', 'ูุตุฑ', 'ุงููุบุฑุจ', 'ุงูุฌุฒุงุฆุฑ', 'ุณูุฑูุง'],
                    datasets: [{
                        label: 'ุงูุนุฏุฏ',
                        data: [106, 54, 26, 16, 14],
                        backgroundColor: ['#115e59', '#0d9488', '#14b8a6', '#2dd4bf', '#5eead4'],
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { grid: { display: false } } }
                }
            });

            // 5. Knowledge Chart (Overall)
            new Chart(document.getElementById('knowledgeChart'), {
                type: 'pie',
                data: {
                    labels: ['ูุจุชุฏุฆ (43%)', 'ูุชูุณุท (28%)', 'ุจุฏูู ุฎุจุฑุฉ (20%)', 'ูุชูุฏู (8%)', 'ุฎุจูุฑ (1.5%)'],
                    datasets: [{
                        data: [42.96, 27.78, 20.00, 7.78, 1.48],
                        backgroundColor: ['#34d399', '#10b981', '#9ca3af', '#059669', '#064e3b'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right', labels: { font: { size: 11 } } } }
                }
            });

            // 6. Knowledge by Gender (Stacked)
            // Based on: NoPrior(M79/F20), Beg(M84/F15), Int(M86/F13), Adv(M90/F9), Exp(M100/F0)
            new Chart(document.getElementById('knowledgeGenderChart'), {
                type: 'bar',
                data: {
                    labels: ['ุจุฏูู ุฎุจุฑุฉ', 'ูุจุชุฏุฆ', 'ูุชูุณุท', 'ูุชูุฏู', 'ุฎุจูุฑ'],
                    datasets: [
                        {
                            label: 'ุฐููุฑ',
                            data: [79.63, 84.48, 86.67, 90.48, 100],
                            backgroundColor: '#3b82f6',
                            stack: 'Stack 0'
                        },
                        {
                            label: 'ุฅูุงุซ',
                            data: [20.37, 15.52, 13.33, 9.52, 0],
                            backgroundColor: '#ec4899',
                            stack: 'Stack 0'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { stacked: true }, y: { stacked: true, max: 100 } },
                    plugins: { legend: { position: 'bottom' } }
                }
            });

            // 7. Age by Knowledge
            new Chart(document.getElementById('ageKnowledgeChart'), {
                type: 'line',
                data: {
                    labels: ['ุจุฏูู ุฎุจุฑุฉ', 'ูุจุชุฏุฆ', 'ูุชูุณุท', 'ูุชูุฏู', 'ุฎุจูุฑ'],
                    datasets: [{
                        label: 'ูุชูุณุท ุงูุนูุฑ',
                        data: [25.91, 29.75, 30.27, 32.57, 39.75],
                        backgroundColor: 'rgba(249, 115, 22, 0.2)',
                        borderColor: '#f97316',
                        borderWidth: 3,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#f97316',
                        pointRadius: 5,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { min: 20, max: 45 } },
                    plugins: { legend: { display: false } }
                }
            });

            // 8. Reasons Chart
            new Chart(document.getElementById('reasonsChart'), {
                type: 'bar',
                data: {
                    labels: ['ุงูุชุนูู', 'ุชุทููุฑ ุงูููุงุฑุงุช', 'ุฑูุงุฏุฉ ุงูุฃุนูุงู', 'ุดุบู ุงูุฑูุงุฏุฉ', 'ูุนุฑูุฉ ุงููุฒูุฏ'],
                    datasets: [{
                        label: 'ุงููุณุจุฉ',
                        data: [10.74, 8.52, 7.78, 7.04, 5.93],
                        backgroundColor: '#6366f1',
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // 9. Timing Preference Comparison
            new Chart(document.getElementById('timingChart'), {
                type: 'bar',
                data: {
                    labels: ['ุงูุณุจุช', 'ุงูุฌูุนุฉ', 'ุงูุฎููุณ', 'ุงูุฃุฑุจุนุงุก'],
                    datasets: [
                        {
                            label: 'ุตุจุงุญู',
                            data: [35.19, 18.89, 12.22, 12.59],
                            backgroundColor: '#facc15',
                            borderRadius: 4
                        },
                        {
                            label: 'ูุณุงุฆู',
                            data: [19.26, 26.67, 18.15, 5.00], // Wed evening est low
                            backgroundColor: '#1e293b',
                            borderRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } } // Custom legend in HTML
                }
            });

            // 10. Word Cloud Generation
            const words = [
                {text: 'ุงูุชุนูู (Learning)', size: 32, color: '#0d9488', w: 700},
                {text: 'ุชุทููุฑ ุงูููุงุฑุงุช', size: 24, color: '#0f766e', w: 600},
                {text: 'ุฑูุงุฏุฉ ุงูุฃุนูุงู', size: 22, color: '#f59e0b', w: 600},
                {text: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู', size: 28, color: '#115e59', w: 700},
                {text: 'ุจูุงุก ูุดุงุฑูุน', size: 18, color: '#6366f1', w: 500},
                {text: 'ุชุบููุฑ ุงููุณุงุฑ', size: 16, color: '#ec4899', w: 500},
                {text: 'Generative AI', size: 20, color: '#8b5cf6', w: 600},
                {text: 'ุดุบู', size: 18, color: '#ef4444', w: 500},
                {text: 'ูุถูู', size: 14, color: '#64748b', w: 400},
                {text: 'ุดูุงุฏุฉ', size: 14, color: '#64748b', w: 400}
            ];
            const cloud = document.getElementById('wordCloud');
            words.forEach(item => {
                const span = document.createElement('span');
                span.innerText = item.text;
                span.style.fontSize = item.size + 'px';
                span.style.color = item.color;
                span.style.fontWeight = item.w;
                cloud.appendChild(span);
            });

        });

        // Theme Toggle Logic
        function toggleTheme() {
            const html = document.documentElement;
            const icon = document.getElementById('themeIcon');
            
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                icon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                icon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'dark');
            }
        }

        // Initialize Theme
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            document.getElementById('themeIcon').classList.replace('fa-moon', 'fa-sun');
        }

        // Magic Insight Logic
        function triggerMagicInsight() {
            // 1. Confetti Explosion
            const duration = 2000;
            const end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#14b8a6', '#ec4899', '#f59e0b']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#14b8a6', '#ec4899', '#f59e0b']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            // 2. Select Random Card/Chart
            const cards = document.querySelectorAll('.card');
            const randomCard = cards[Math.floor(Math.random() * cards.length)];

            // 3. Scroll to it
            randomCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // 4. Highlight Effect
            randomCard.classList.add('magic-highlight');
            setTimeout(() => {
                randomCard.classList.remove('magic-highlight');
            }, 2000);
        }


    </script>
</body>
</html>
